//
//  Common
//  _____________________________________________
& when (@media-common =true) {

    // Container do bloco do minecart
    .block.block-minicart.ui-dialog-content.ui-widget-content {
        .lib-css(display, flex) !important;
        .lib-css(justify-content, flex-end);
        .lib-css(background-color, rgba(0, 0, 0, 0.322));
        .lib-css(padding, 0);
        .lib-css(width, 100dvw);
        .lib-css(height, 100dvh);
        .lib-css(position, fixed);
        .lib-css(border, none);
        .lib-css(top, -4px);
        .lib-css(z-index, 1001);
    }

    #minicart-content-wrapper {
        .lib-css(width, 390px);
        .lib-css(margin-right, 10px);
        .lib-css(background-color, @color-white);
        .lib-css(box-shadow, 0px 4px 16px rgba(0, 0, 0, 0.322));
        .lib-css(transition, transform 0.5s);
        .lib-css(transform, translateX(390px));
    }

    .minicart-wrapper.active #minicart-content-wrapper {
        .lib-css(transform, translateX(0));
    }

    // Container dos itens do minecart
    #minicart-content-wrapper .block-content {
        .lib-css(display, flex);
        .lib-css(flex-direction, column);

        .minicart-items-wrapper {
            .lib-css(order, -1);
            .lib-css(max-height, 600px);
            .lib-css(min-height, 67dvh);
            .lib-css(width, 100%);
            .lib-css(margin, 0);
            .lib-css(padding, 0);
            .lib-css(color, @color-black);
        }
    }

    // Container de cada item no minecart
    .minicart-items-wrapper .item.product.product-item {
        .lib-css(max-width, 100%);
        .lib-css(padding, 30px 0);
        .lib-css(margin, 0 14px);
    }

    // Nome do produto no minecart
    #minicart-content-wrapper .product-item-details .product-item-name a {
        .lib-css(color, @color-black);
    }

    // Preço do produto no minecart
    .minicart-items-wrapper .item.product.product-item .minicart-price .price {
        .lib-css(font-weight, 900);
        .lib-css(font-size, 16px);
    }

    // Input de quantidade do produto no minecart
    .minicart-items-wrapper .product-item-pricing .item-qty {
        .lib-css(border, 1px solid @color-form-border);
        .lib-css(border-radius, 2px);
        .lib-css(width, 48px);
        .lib-css(height, 34px);
    }

    // Toggle de opções do produto no minecart
    .product-item-details .product.options .toggle {
        .lib-css(color, @theme__color__primary);

        &::after {
            .lib-css(color, @theme__color__primary);
        }
    }

    // Esconder o total de itens no minecart
    #minicart-content-wrapper .items-total {
        .lib-css(display, none);
    }

    // Container do subtotal no minecart
    #minicart-content-wrapper .block-content .subtotal {
        .lib-css(display, flex);
        .lib-css(justify-content, space-between);
        .lib-css(padding, 81px 16px 0 16px);
        .lib-css(color, @color-black);
        .lib-css(box-shadow, 0px -13px 16px -4px #00000014);
        .lib-css(margin, 0);

        // Subtotal 
        .price-wrapper .price {
            .lib-css(font-weight, 400);
            .lib-css(font-size, 14px);
        }
    }

    // Botão de Checkout no minecart
    #minicart-content-wrapper .block-content .action.primary.checkout {
        .lib-css(text-transform, none);
        .lib-css(font-size, 16px);
        .lib-css(letter-spacing, normal);
        .lib-css(font-weight, 700);
        .lib-css(border-radius, 8px);
        .lib-css(margin, 85px 0 45px 0);
        .lib-css(width, 95%);

        &:hover {
            .lib-css(background-color, darken(@theme__color__primary, 10%));
            .lib-css(border, none);
            .lib-css(color, @color-white);
        }
    }

    // Container das ações no minecart
    #minicart-content-wrapper .block-content .actions {
        .lib-css(margin, -34px -11px 0 0);

        .primary {
            .lib-css(margin-right, 0);
        }

        .primary .action.edit {
            .lib-css(width, 126px);
            .lib-css(height, 37px);
            .lib-css(background-color, @theme__color__primary);
            .lib-css(border-radius, 2px);
            .lib-css(text-align, center);
            .lib-css(line-height, 35px);

            &:hover {
                .lib-css(background-color, darken(@theme__color__primary, 10%));
                .lib-css(border, none);
                .lib-css(color, @color-white);
            }

            &::before {
                content: "";
            }

            span {
                .lib-visually-hidden-reset();
                .lib-css(color, @color-white);
                .lib-css(font-size, 14px);
            }
        }

        .secondary .action.delete {
            .icon-image-before('images/icons/trash.svg', 17px, 16px);
        }

        .secondary .action.viewcart {
            .lib-css(font-size, 16px);
            .lib-css(font-weight, 700);
        }
    }

    // Botões de aumentar/diminuir quantidade no minecart
    #minicart-content-wrapper .cart-qty-stepper button.action {
        .lib-css(background-color, transparent);
        .lib-css(width, 20px);
        .lib-css(padding, 0);
        .lib-css(color, #827D7D);
        .lib-css(font-size, 16px);
    }

    // Botão de atualizar item no minecart
    #minicart-content-wrapper .product-item-pricing .update-cart-item {
        .lib-css(padding, 0);
        .lib-css(margin, 0 0 0 15px);
        .lib-css(height, 32px);
        .lib-css(background-color, @theme__color__primary);
        .lib-css(color, @color-white);
        .lib-css(text-transform, none);
        .lib-css(letter-spacing, normal);
        .lib-css(position, absolute);
        .lib-css(z-index, 1);
        .lib-css(top, 3px);

        span {
            .lib-css(font-size, 14px);
        }
    }

    // Container da quantidade do item no minecart
    #minicart-content-wrapper .product-item-pricing .details-qty.qty {
        .lib-css(position, relative);
        .lib-css(display, flex);
        .lib-css(align-items, center);
        .lib-css(justify-content, flex-start);
    }

    // Container de conteúdo do minecart
    #minicart-content-wrapper {

        // Título do bloco do minecart
        .block-title {
            .lib-css(display, block);
            .lib-css(text-align, center);
            .lib-css(text-transform, uppercase);
            .lib-css(font-size, 14px);
            .lib-css(color, @color-white);
            .lib-css(background-color, @theme__color__primary);
            .lib-css(width, 100%);
            .lib-css(height, 50px);
            .lib-css(line-height, 47px);
            .lib-css(font-weight, 600);

            .qty {
                .lib-css(display, none);
            }
        }

        // Botão de fechar o minecart
        .block-content .action.close {
            .lib-css(top, 15px);
            .lib-css(right, 25px);
            .lib-css(width, 12px);
            .lib-css(height, 12px);

            &::before {
                .lib-css(color, @color-white);

            }
        }
    }

}

//
//  Mobile
//  _____________________________________________
.media-width(@extremum, @break) when (@extremum ="max") and (@break =@screen__m) {

    .block.block-minicart.ui-dialog-content.ui-widget-content {
        .lib-css(left, 0);
    }

    // Container interno do minecart
    #minicart-content-wrapper {
        .lib-css(margin, 0);
    }

    // Container das ações no minecart
    .block-content .minicart-items-wrapper .product-item-details .product.actions {
        .lib-css(float, right);
    }

    // Container do subtotal no minecart
    #minicart-content-wrapper .block-content .subtotal {
        .lib-css(padding, 45px 16px 0 16px);
    }

    // Container dos botões no minecart
    #minicart-content-wrapper .block-content .actions {
        .lib-css(margin, -34px 0px 0 0);
    }

    // Botão de atualizar item no minecart
    #minicart-content-wrapper .product-item-pricing .update-cart-item {
        .lib-css(width, 83px);
        .lib-css(right, 40px);
    }
}

//
//  Desktop
//  _____________________________________________
.media-width(@extremum, @break) when (@extremum ="min") and (@break =@screen__m) {

    // Botão de atualizar item no minecart
    #minicart-content-wrapper .product-item-pricing .update-cart-item {
        .lib-css(width, 106px);
        .lib-css(right, 21px);
    }
}