<?xml version="1.0"?>
<!--
/**
 * Copyright © Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>

        <!-- Adiciona um bloco de promoção no header acima do painel padrão -->
        <referenceContainer name="header.panel">
            <container name="promo.header.wrapper" htmlClass="promo-wrapper" htmlTag="div">
                <block class="Magento\Framework\View\Element\Template" name="promo.header.panel"
                    template="Magento_Theme::html/header/promo.phtml" before="-" />
            </container>
        </referenceContainer>

        <!-- Adiciona um container para a newsletter no footer -->
        <referenceContainer name="main.content">
            <container name="footer.newsletter"
                label="Footer Columns Wrapper"
                htmlTag="div"
                htmlClass="footer-columns-wrapper" />
        </referenceContainer>

        <!-- Adiciona um container para as linhas do footer -->
        <referenceContainer name="footer">
            <container name="footer.rows.wrapper" label="Footer Rows Wrapper" htmlTag="div"
                htmlClass="footer-rows-wrapper">

                <!-- linha 1 (Links) -->
                <block class="Magento\Cms\Block\Block" name="footer_row_1">
                    <arguments>
                        <argument name="block_id" xsi:type="string">footer_row_1</argument>
                    </arguments>
                </block>

                <!-- linha 2 (Métodos de Pagamento) -->
                <block class="Magento\Framework\View\Element\Template"
                    name="flag.cards"
                    template="Magento_Theme::html/footer/flags-cards.phtml" />

            </container>

            <!-- linha 3 (Texto) -->
            <block class="Magento\Cms\Block\Block" name="footer_row_3">
                <arguments>
                    <argument name="block_id" xsi:type="string">footer_row_3</argument>
                </arguments>
            </block>

            <!-- linha 4 (Parceiros Stamps) -->
            <block class="Magento\Framework\View\Element\Template"
                name="stamps.partners"
                template="Magento_Theme::html/footer/stamps-partners.phtml" />
        </referenceContainer>

        <!-- Remove os links de login e registro padrão do header -->
        <referenceBlock name="authorization-link-login" remove="true" />
        <referenceBlock name="register-link" remove="true" />

        <!-- Remove os links padrão do footer -->
        <referenceBlock name="footer_links" remove="true" />
        <referenceBlock name="copyright" remove="true" />

        <!-- Move os links de acesso do usuário para a área principal do header -->
        <move element="header.links" destination="header-wrapper" before="minicart" />
        <!-- Move a barra de pesquisa para logo após o logotipo -->
        <move element="top.search" destination="header-wrapper" after="logo" />
        <!-- Move a navegação principal para o container do header -->
        <move element="navigation.sections" destination="header.container" after="-" />
        <!-- Move a newsletter para o container criado -->
        <move element="form.subscribe" destination="footer.newsletter" before="-" />

    </body>
</page>